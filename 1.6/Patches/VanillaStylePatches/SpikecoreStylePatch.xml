<?xml version="1.0" encoding="utf-8" ?>
<Patch>
	<Operation Class="PatchOperationConditional">
		<success>Always</success>
		<xpath>/Defs/StyleCategoryDef[defName = "Spikecore"]/thingDefStyles</xpath>
		<match Class="PatchOperationAdd">
			<xpath>/Defs/StyleCategoryDef[defName = "Spikecore"]/thingDefStyles</xpath>
			<value>

				<li>
					<thingDef>MeleeWeapon_Club</thingDef>
					<styleDef>AM_Spikecore_Club</styleDef>
				</li>			
				<li>
					<thingDef>MeleeWeapon_Gladius</thingDef>
					<styleDef>AM_Spikecore_Gladius</styleDef>
				</li>		
				<li>
					<thingDef>MeleeWeapon_Ikwa</thingDef>
					<styleDef>AM_Spikecore_Ikwa</styleDef>
				</li>
				<li>
					<thingDef>MeleeWeapon_Knife</thingDef>
					<styleDef>AM_Spikecore_Knife</styleDef>
				</li>
				<li>
					<thingDef>MeleeWeapon_LongSword</thingDef>
					<styleDef>AM_Spikecore_Sword</styleDef>
				</li>
				<li>
					<thingDef>MeleeWeapon_Mace</thingDef>
					<styleDef>AM_Spikecore_Mace</styleDef>
				</li>
				<li>
					<thingDef>MeleeWeapon_Spear</thingDef>
					<styleDef>AM_Spikecore_Spear</styleDef>
				</li>
				<li>
					<thingDef>Gun_ChargeLance</thingDef>
					<styleDef>AM_Spikecore_ChargeLance</styleDef>
				</li>	
				<li>
					<thingDef>Gun_Minigun</thingDef>
					<styleDef>AM_Spikecore_Minigun</styleDef>
				</li>	
				<li>
					<thingDef>Gun_ChargeRifle</thingDef>
					<styleDef>AM_Spikecore_ChargeRifle</styleDef>
				</li>			
				<li>
					<thingDef>Gun_HeavySMG</thingDef>
					<styleDef>AM_Spikecore_HeavySMG</styleDef>
				</li>		
				<li>
					<thingDef>Gun_SniperRifle</thingDef>
					<styleDef>AM_Spikecore_SniperRifle</styleDef>
				</li>
				<li>
					<thingDef>Gun_Revolver</thingDef>
					<styleDef>AM_Spikecore_Revolver</styleDef>
				</li>
				<li>
					<thingDef>Gun_MachinePistol</thingDef>
					<styleDef>AM_Spikecore_MachinePistol</styleDef>
				</li>
				<li>
					<thingDef>Gun_LMG</thingDef>
					<styleDef>AM_Spikecore_LMG</styleDef>
				</li>
				<li>
					<thingDef>Gun_ChainShotgun</thingDef>
					<styleDef>AM_Spikecore_ChainShotgun</styleDef>
				</li>
				<li>
					<thingDef>Gun_PumpShotgun</thingDef>
					<styleDef>AM_Spikecore_PumpShotgun</styleDef>
				</li>
				<li>
					<thingDef>Gun_BoltActionRifle</thingDef>
					<styleDef>AM_Spikecore_BoltActionRifle</styleDef>
				</li>
				<li>
					<thingDef>Gun_Autopistol</thingDef>
					<styleDef>AM_Spikecore_Autopistol</styleDef>
				</li>
				<li>
					<thingDef>Gun_AssaultRifle</thingDef>
					<styleDef>AM_Spikecore_AssaultRifle</styleDef>
				</li>

				<li>
					<thingDef>Bow_Short</thingDef>
					<styleDef>AM_Spikecore_Bow</styleDef>
				</li>
				<li>
					<thingDef>Bow_Recurve</thingDef>
					<styleDef>AM_Spikecore_RecurveBow</styleDef>
				</li>
				<li>
					<thingDef>Bow_Great</thingDef>
					<styleDef>AM_Spikecore_GreatBow</styleDef>
				</li>
				<li MayRequire="Ludeon.RimWorld.Royalty">
					<thingDef>MeleeWeapon_Axe</thingDef>
					<styleDef>AM_Spikecore_Axe</styleDef>
				</li>
				<li MayRequire="Ludeon.RimWorld.Royalty">
					<thingDef>MeleeWeapon_Warhammer</thingDef>
					<styleDef>AM_Spikecore_Hammer</styleDef>
				</li>
				<li>
					<thingDef>MeleeWeapon_BreachAxe</thingDef>
					<styleDef>AM_Spikecore_Pickaxe</styleDef>
				</li>
				
				<li>
					<thingDef>Weapon_GrenadeFrag</thingDef>
					<styleDef>AM_Spikecore_Grenade</styleDef>
				</li>
				<li>
					<thingDef>Weapon_GrenadeEMP</thingDef>
					<styleDef>AM_Spikecore_EMPGrenades</styleDef>
				</li>
				<li>
					<thingDef>Weapon_GrenadeMolotov</thingDef>
					<styleDef>AM_Spikecore_Molotovs</styleDef>
				</li>
				<li>
					<thingDef>Gun_IncendiaryLauncher</thingDef>
					<styleDef>AM_Spikecore_FlameLauncher</styleDef>
				</li>
				<li>
					<thingDef>Gun_SmokeLauncher</thingDef>
					<styleDef>AM_Spikecore_SmokeLauncher</styleDef>
				</li>
				<li>
					<thingDef>Gun_EmpLauncher</thingDef>
					<styleDef>AM_Spikecore_EMPLauncher</styleDef>
				</li>
				<li>
					<thingDef>Pila</thingDef>
					<styleDef>AM_Spikecore_Pila</styleDef>
				</li>
				<li MayRequire="Ludeon.RimWorld.Biotech">
					<thingDef>Flamebow</thingDef>
					<styleDef>AM_Spikecore_Flamebow</styleDef>
				</li>
				<li MayRequire="Ludeon.RimWorld.Biotech">
					<thingDef>Weapon_GrenadeTox</thingDef>
					<styleDef>AM_Spikecore_ToxGrenades</styleDef>
				</li>
				<li MayRequire="Ludeon.RimWorld.Biotech">
					<thingDef>Gun_ToxbombLauncher</thingDef>
					<styleDef>AM_Spikecore_ToxLauncher</styleDef>
				</li>

			</value>
		</match>
	</Operation>
	
	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Vanilla Weapons Expanded</li>
		</mods>
		<match Class="PatchOperationSequence">
			<operations>
				<li Class="PatchOperationConditional">
					<success>Always</success>
					<xpath>/Defs/StyleCategoryDef[defName = "Spikecore"]/thingDefStyles</xpath>
					<match Class="PatchOperationAdd">
						<xpath>/Defs/StyleCategoryDef[defName = "Spikecore"]/thingDefStyles</xpath>
						<value>
							<li>
								<thingDef>VWE_Gun_AntiMaterialRifle</thingDef>
								<styleDef>AM_Spikecore_AntiMaterialRifle</styleDef>
							</li>
							<li>
								<thingDef>VWE_Gun_ChargePistol</thingDef>
								<styleDef>AM_Spikecore_ChargePistol</styleDef>
							</li>
							<li>
								<thingDef>VWE_Gun_ChargeShotgun</thingDef>
								<styleDef>AM_Spikecore_ChargeShotgun</styleDef>
							</li>
							<li>
								<thingDef>VWE_Gun_ChargeSMG</thingDef>
								<styleDef>AM_Spikecore_ChargeSMG</styleDef>
							</li>
							<li>
								<thingDef>VWE_Gun_ChargeLMG</thingDef>
								<styleDef>AM_Spikecore_ChargeLMG</styleDef>
							</li>
							<!--<li>
								<thingDef>VWE_Gun_ChargeSniperRifle</thingDef>
								<styleDef>AM_Spikecore_ChargeSniperRifle</styleDef>
							</li>-->
							<li>
								<thingDef>VWE_Gun_ChargeMinigun</thingDef>
								<styleDef>AM_Spikecore_ChargeMinigun</styleDef>
							</li>
							<li>
								<thingDef>VWE_Gun_Flamethrower</thingDef>
								<styleDef>AM_Spikecore_Flamethrower</styleDef>
							</li>
							
							<li>
								<thingDef>VWE_Gun_HandCannon</thingDef>
								<styleDef>AM_Spikecore_HandCannon</styleDef>
							</li>
							<li>
								<thingDef>VWE_CombatHandgun</thingDef>
								<styleDef>AM_Spikecore_CombatHandgun</styleDef>
							</li>
							
							<li>
								<thingDef>VWE_Gun_BattleRifle</thingDef>
								<styleDef>AM_Spikecore_BattleRifle</styleDef>
							</li>
							<li>
								<thingDef>VWE_Gun_Carbine</thingDef>
								<styleDef>AM_Spikecore_CarbineVWE</styleDef>
							</li>
							<li>
								<thingDef>VWE_Bow_Crossbow</thingDef>
								<styleDef>AM_Spikecore_Crossbow</styleDef>
							</li>
							<li>
								<thingDef>VWE_Gun_HMG</thingDef>
								<styleDef>AM_Spikecore_HMG</styleDef>
							</li>
						</value>
					</match>
				</li>
			</operations>
		</match>
	</Operation>
<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Vanilla Weapons Expanded - Tribal</li>
		</mods>
		<match Class="PatchOperationSequence">
			<operations>
				<li Class="PatchOperationConditional">
					<success>Always</success>
					<xpath>/Defs/StyleCategoryDef[defName = "Spikecore"]/thingDefStyles</xpath>
					<match Class="PatchOperationAdd">
						<xpath>/Defs/StyleCategoryDef[defName = "Spikecore"]/thingDefStyles</xpath>
						<value>
							<li>
								<thingDef>VWE_MeleeWeapon_Shiv</thingDef>
								<styleDef>AM_Spikecore_Shiv</styleDef>
							</li>
						</value>
					</match>
				</li>
			</operations>
		</match>
	</Operation>
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Vanilla Factions Expanded - Medieval 2</li>
    </mods>
    <match Class="PatchOperationSequence">
      <operations>
        <li Class="PatchOperationConditional">
          <success>Always</success>
          <xpath>/Defs/StyleCategoryDef[defName = "Spikecore"]/thingDefStyles</xpath>
          <match Class="PatchOperationAdd">
            <xpath>/Defs/StyleCategoryDef[defName = "Spikecore"]/thingDefStyles</xpath>
            <value>
              <li>
                <thingDef>VFEM2_Gun_Flintlock</thingDef>
                <styleDef>AM_Spikecore_Flintlock</styleDef>
              </li>
            </value>
          </match>
        </li>
      </operations>
    </match>
  </Operation>

</Patch>